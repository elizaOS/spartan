# Birdeye MCP Configuration
# Provides Solana token data, trading signals, and market analytics from Birdeye API

name: spartan-birdeye-mcp
description: MCP server for Birdeye Solana market data with Spartan integration
version: 1.0.0

# Server configuration
server:
  transport: stdio
  capabilities:
    tools: true
    resources: false
    prompts: false

# API configuration
api:
  base_url: https://public-api.birdeye.so
  rate_limit:
    requests_per_minute: 60
    burst: 20
  timeout: 15000
  headers:
    Accept: application/json
    User-Agent: SpartanMCP/1.0

# Authentication
auth:
  type: api_key
  key_name: X-API-KEY
  key_location: header
  key_env: BIRDEYE_API_KEY
  required: true

# Available tools
tools:
  - name: birdeye_get_token_overview
    description: Get comprehensive token overview including price, volume, liquidity
    input_schema:
      type: object
      properties:
        address:
          type: string
          description: Token contract address on Solana
      required:
        - address
    endpoint:
      method: GET
      path: /defi/token_overview
      params:
        address: "{address}"

  - name: birdeye_get_token_price
    description: Get current token price and price history
    input_schema:
      type: object
      properties:
        address:
          type: string
          description: Token contract address
        check_liquidity:
          type: number
          description: Minimum liquidity threshold to check
          default: 0
      required:
        - address
    endpoint:
      method: GET
      path: /defi/price
      params:
        address: "{address}"
        check_liquidity: "{check_liquidity}"

  - name: birdeye_get_token_security
    description: Get token security analysis and risk metrics
    input_schema:
      type: object
      properties:
        address:
          type: string
          description: Token contract address
      required:
        - address
    endpoint:
      method: GET
      path: /defi/token_security
      params:
        address: "{address}"

  - name: birdeye_get_token_creation_info
    description: Get token creation information and metadata
    input_schema:
      type: object
      properties:
        address:
          type: string
          description: Token contract address
      required:
        - address
    endpoint:
      method: GET
      path: /defi/token_creation_info
      params:
        address: "{address}"

  - name: birdeye_get_trending_tokens
    description: Get trending tokens on Solana
    input_schema:
      type: object
      properties:
        sort_by:
          type: string
          description: Sort criteria (rank, volume, price_change_24h)
          default: rank
        sort_type:
          type: string
          description: Sort direction (asc, desc)
          default: desc
        offset:
          type: number
          description: Pagination offset
          default: 0
        limit:
          type: number
          description: Number of results to return
          default: 20
    endpoint:
      method: GET
      path: /defi/tokenlist
      params:
        sort_by: "{sort_by}"
        sort_type: "{sort_type}"
        offset: "{offset}"
        limit: "{limit}"

  - name: birdeye_get_wallet_portfolio
    description: Get wallet token holdings and portfolio value
    input_schema:
      type: object
      properties:
        wallet:
          type: string
          description: Solana wallet address
      required:
        - wallet
    endpoint:
      method: GET
      path: /v1/wallet/token_list
      params:
        wallet: "{wallet}"

  - name: birdeye_get_token_trades
    description: Get recent trades for a specific token
    input_schema:
      type: object
      properties:
        address:
          type: string
          description: Token contract address
        offset:
          type: number
          description: Pagination offset
          default: 0
        limit:
          type: number
          description: Number of trades to return
          default: 20
      required:
        - address
    endpoint:
      method: GET
      path: /defi/txs/token
      params:
        address: "{address}"
        offset: "{offset}"
        limit: "{limit}"

  - name: birdeye_get_token_holders
    description: Get token holder distribution and top holders
    input_schema:
      type: object
      properties:
        address:
          type: string
          description: Token contract address
        offset:
          type: number
          description: Pagination offset
          default: 0
        limit:
          type: number
          description: Number of holders to return
          default: 20
      required:
        - address
    endpoint:
      method: GET
      path: /defi/token_holders
      params:
        address: "{address}"
        offset: "{offset}"
        limit: "{limit}"

  - name: birdeye_get_ohlcv
    description: Get OHLCV (Open, High, Low, Close, Volume) candle data for charting
    input_schema:
      type: object
      properties:
        address:
          type: string
          description: Token contract address
        type:
          type: string
          description: Time interval (1m, 3m, 5m, 15m, 30m, 1H, 2H, 4H, 6H, 8H, 12H, 1D, 3D, 1W, 1M)
          default: 1H
        time_from:
          type: number
          description: Start timestamp (Unix)
        time_to:
          type: number
          description: End timestamp (Unix)
      required:
        - address
    endpoint:
      method: GET
      path: /defi/ohlcv
      params:
        address: "{address}"
        type: "{type}"
        time_from: "{time_from}"
        time_to: "{time_to}"

  - name: birdeye_search_tokens
    description: Search for tokens by name or symbol
    input_schema:
      type: object
      properties:
        keyword:
          type: string
          description: Search keyword
        sort_by:
          type: string
          description: Sort by field
          default: v24hUSD
        sort_type:
          type: string
          description: Sort direction
          default: desc
        offset:
          type: number
          default: 0
        limit:
          type: number
          default: 20
      required:
        - keyword
    endpoint:
      method: GET
      path: /defi/v3/search
      params:
        keyword: "{keyword}"
        sort_by: "{sort_by}"
        sort_type: "{sort_type}"
        offset: "{offset}"
        limit: "{limit}"

# Error handling
error_handling:
  retry_on_failure: true
  max_retries: 3
  retry_delay_ms: 2000
  exponential_backoff: true

# Caching
cache:
  enabled: true
  ttl_seconds: 30
  max_entries: 2000

# Logging
logging:
  level: info
  format: json
  include_timestamps: true

